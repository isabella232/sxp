export async function getServerSideProps() {
  try {
      // call add-post api
    let response1 = await fetch('http://localhost:3000/api/add-post', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ title: 'post title', content: 'post content' }),
        });
      console.log(response1)
    let response = await fetch('http://localhost:3000/api/get-posts');
    let posts = await response.json();

    return {
      props: { posts: JSON.parse(JSON.stringify(posts)) },
    };
  } catch (e) {
    console.error(e);
    return {
      props: { posts: [] },
    }
  }
}

export default function CheckoutPage({ posts }) {
  console.log(posts)

  return (
    <h1>
      checkout page
    </h1>
  )
}
